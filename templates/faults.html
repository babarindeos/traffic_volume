{% load static %}

<!-- index.html -->

<!DOCTYPE html>
<html>
<head>
    <!-- Other head elements -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.15/dist/tailwind.min.css" rel="stylesheet">
    <title>Traffic Volume Detection Using Wireless Sensor Network</title>
</head>
<body>
    <div class="flex flex-col bg-blue-500 text-white py-5 justify-center items-center"
         style="background: url('https://www.digi.com/getattachment/applications/traffic-management/background.jpg');"
         >
        <div class="flex w-full mt-10 bg-blue-400 opacity-30 py-3 justify-center">
            <h1 class="text-4xl text-white">
                Traffic Volume Detection Using Wireless Sensor Network
            </h1>
        </div>        
    </div>

    <div class="flex flex-col container border-0 justify-center items-center py-10">
            <div class="flex flex-col w-3/4 border-b">
                    <div class="flex flex-row justify-between">
                            <div>
                                    <h1 class="text-2xl">Fault</h1>
                            </div>
                            <div>
                                   <a class='font-semibold underline text-blue-600' href="home">Home</a> | 
                                   <a class='font-semibold underline text-blue-600' href="create_node">Create Node</a>

                            </div>                         
                    </div>

            </div>

            <!-- content -->
            <div class="flex w-3/4 mt-5 mb-5 ">
                <a href="generate_fault" class="flex border rounded-full px-6 py-3 bg-red-400 text-white font-semibold ">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z" />
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                      </svg>
                      
                      Generate Fault
                </a>
            </div>
            <div class="border w-3/4 mt-3">
               
                <table width="100%" cellpadding="10px">
                    <thead>
                        <tr class="bg-gray-200">
                            <th class="text-left border-0 border-blue-800" width="7%">SN</th>
                            <th class="text-left border-0 border-blue-800" width="20%">Node</th>
                            <th class="text-left border-0 border-blue-800" width="15%">Cluster</th>
                            <th class="text-left border-0 border-blue-800" width="10%">Battery</th>
                            <th class="text-left border-0 border-blue-800" width="10%">Fault</th>
                            <th class="text-left border-0 border-blue-800" width="10%">Headship</th>
                            <th class="text-left border-0 border-blue-800" width="15%">Date Created</th>
                            <th class="text-left border-0 border-blue-800" width="30%" >Actions</th>
                        </tr>                    
                    </thead>
                    <tbody> 
                        {% for node in nodes reversed %}
                            <tr class="border-b">    
                                <td class="text-center">{{ forloop.counter }}.</td>
                                <td>{{ node.name }}</td>
                                <td>{{ node.cluster.name }}</td>
                                <td>{{ node.battery }}%</td>
                                <td>
                                    {% if node.fault %}                                    
                                        <div class="border w-4 h-4 rounded-full bg-red-500"></div>
                                    {% else %}
                                        <div class="border w-4 h-4 rounded-full bg-green-500"></div>
                                    {% endif %}
                                </td>
                                <td>
                                    {% if node.headship %}
                                        <div>
                                            <svg class='w-6 h-6' xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                                                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z" />
                                            </svg>
                                        </div>
                                    {% endif %}
                                </td>
                                <td>{{node.date|date:"F d, Y" }}</td>
                                <td>
                                    <div class="text-sm">
                                            {% if node.fault %}
                                            <span class="mr-4">
                                                <a class="rounded-full border border-1 px-4 py-1 bg-blue-200 hover:bg-yellow-300" href='node/repair/{{ node.id }}'>Repair </a>
                                            </span>
                                            {% endif %}
                                           
                                    </div>
                                </td>
                            </tr>    
                        
                        {%  endfor  %}
    
                    </tbody>
                    
                </table>
                 
            </div>

            <!-- end of content -->

            
    </div>

    
    
</body>
</html>